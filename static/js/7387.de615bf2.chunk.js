"use strict";(globalThis.webpackChunkth_v3=globalThis.webpackChunkth_v3||[]).push([[7387],{67387:(e,t,r)=>{r.r(t),r.d(t,{getGeometryServiceURL:()=>l,projectGeometry:()=>u});var o=r(42265),n=r(10064),i=r(70032),a=r(45362),s=r(81943);async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;var r,a;if(o.Z.geometryServiceUrl)return o.Z.geometryServiceUrl;if(!e)throw new n.Z("internal:geometry-service-url-not-configured");let s;s="portal"in e?e.portal||i.Z.getDefault():e,await s.load({signal:t});const l=null==(r=s.helperServices)||null==(a=r.geometry)?void 0:a.url;if(!l)throw new n.Z("internal:geometry-service-url-not-configured");return l}async function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;const i=await l(r,o),u=new s.Z;u.geometries=[e],u.outSpatialReference=t;const c=await(0,a.i)(i,u,{signal:o});if(c&&Array.isArray(c)&&1===c.length)return c[0];throw new n.Z("internal:geometry-service-projection-failed")}},45362:(e,t,r)=>{r.d(t,{i:()=>c});var o=r(76200),n=r(25243),i=r(77981),a=r(23084),s=r(35594),l=r(81943);const u=(0,n.se)(l.Z);async function c(e,t,r){t=u(t);const n=(0,a.en)(e),l={...n.query,f:"json",...t.toJSON()},c=t.outSpatialReference,f=(0,i.Ji)(t.geometries[0]),m=(0,a.lA)(l,r);return(0,o.default)(n.path+"/project",m).then((e=>{let{data:{geometries:t}}=e;return(0,s.o)(t,f,c)}))}},35594:(e,t,r)=>{r.d(t,{F:()=>n,o:()=>i});var o=r(77981);function n(e){return{geometryType:(0,o.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}function i(e,t,r){const n=(0,o.q9)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=r,t}))}},81943:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(27366),n=r(46784),i=r(49861),a=(r(63780),r(93169),r(25243),r(69912)),s=r(77981);let l=class extends n.wq{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:(0,s.Ji)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,o._)([(0,i.Cb)()],l.prototype,"geometries",void 0),(0,o._)([(0,i.Cb)({json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),(0,o._)([(0,i.Cb)()],l.prototype,"transformation",void 0),(0,o._)([(0,i.Cb)()],l.prototype,"transformForward",void 0),l=(0,o._)([(0,a.j)("esri.rest.support.ProjectParameters")],l);const u=l}}]);
//# sourceMappingURL=7387.de615bf2.chunk.js.map